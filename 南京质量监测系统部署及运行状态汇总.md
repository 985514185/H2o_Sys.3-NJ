# 南京环境监测系统部署及运行状态汇总

## 一、进程时间表：

2019.06.04——成功进行了Linux系统的部署，并进行了串口水质数据到TB端的成功传输；

2019.06.12——进行V1.0数据日志的添加与完善，并进行linux平台上的调试；

2019.06.20——对Pandas组件下的取众数方法进行了调试，但最终用于该linux平台时出现了问题；

2019.06.24——对Numpy工具下的取中数方式进行了调试，最终的在linux上稳定地传输中数数据；

2019.06.24至现在——数据已正常传输一个月，其中取中数的数据已稳定传输10天，具体状况如下：

![](pic/中数数据状态.png)

​                                                                   （10天内的中数数据）

## 二、硬件部署状态及问题：

南京站点的部署较为简陋，并没有实际的部署场景，仅仅是进行了封闭环境下的真实数据的采集。但是硬件系统依旧完善，功能结构健全且运行正常。可通过TB端观察传输的历史数据，期间也在大屏上进行了为期三天的正常展示。

但是，将该系统完全部署至真实环境的稳定性依旧无法确定。同时，由于其为32位Linux系统，所以硬件的重启仍会出现重启失败的问题。解决方法：安装 64x Ubuntu 18.06（有待尝试）。

同时，在远程控制上依旧在使用保守的Teameviwer方式，采用内网穿透的[frp方案](https://github.com/fatedier/frp)，由于没有公网服务器，linux无法获得公网ip,所以也无法进行。

![](pic/frp的问题.png)

## 三、收获：

通过Linux平台进行数据的采集处理及传输，对客户及开发人员来说，无疑是最简洁、安全的平台方式。这保证了数据的安全性，提升了数据的价值，也使得后期的维护变得更加便利。

而对数据的处理上，经过了多个版本的代码优化与调试，正逐渐使得数据变得更加稳定，这也为数据的真实性分析提供了保障，进而是的数据的价值最大化。

虽然数据已经稳定传输了一个月，但由于无法模拟真实的室外农业环境，所以其数据依旧无法作为分析与研究的对象，仅仅作为数据传输的稳定性观测。但是越来越确定的一点，就是取中数的数据曲线图相较之前要更加的稳定平缓，而不会有较为突出的异常值（目前来看）。